<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xmlns:th='http://www.thymeleaf.org'
xmlns:sec='http://www.thymeleaf.org/thymeleaf-extras-springsecurity3'
xmlns:layout='http://www.ultraq.net.nz/web/thymeleaf/layout'>
  <head>
    <title>Sign in</title>
	<meta charset='utf-8' />
	<meta name='viewport' content='width=device-width, initial-scale=1' />
     <link href='../static/css/core.css' th:href='@{/css/core.css}' rel='stylesheet'/>
     <link href='../static/css/login.css' th:href='@{/css/login.css}' rel='stylesheet'/>
     <link href='http://cdn.jsdelivr.net/webjars/bootstrap/3.3.2/css/bootstrap.min.css'
      th:href='@{/webjars/bootstrap/3.3.2/css/bootstrap.min.css}'
      rel='stylesheet' media='screen' />  
  </head>
  <body>
    <div class='wrapper'>
      
      <!-- login box -->
      <div class='login_boxes login_box'>
       	<p class='sign_in_message'>Sign in</p>
       	
       	<!-- login box content -->
        <div class='login_boxes login_box_content'>
	       
	       	<!-- failed login error message -->
	       	<div class='alert alert-danger' th:if='${param.error}'>
	            <p th:text='#{login.error.message}'>Invalid username and password</p>
	        </div>
	        
	        <!-- logout message -->
	        <div class='alert alert-success' th:if='${param.logout}'>
	            <p th:text='#{logout.message}'>You have been logged out</p>
	        </div>
	        
	        <form action='#' method='post' th:action='@{/login}' th:object='${user}'>
	          <div class='form-group has-feedback'>
				<p th:if='${#fields.hasErrors("username")}' th:errors='*{username}'>Username Error</p>
	            <input type='text' class='form-control' name='username' placeholder='Username' th:field='*{username}' />
	            <span class='glyphicon glyphicon-user form-control-feedback'></span>
	          </div>
	          <div class='form-group has-feedback'>
				<p th:if='${#fields.hasErrors("password")}' th:errors='*{password}'>Password Error</p>
	            <input type='password' class='form-control' placeholder='Password' name='password' th:field='*{password}'/>
	            <span class='glyphicon glyphicon-lock form-control-feedback'></span>
	          </div>
	          <div class='row'>
	            <div class='col-xs-4'>
	              <button type='submit' class='btn btn-primary btn-block btn-flat'>Sign In</button>
	            </div>
	           	<div class='col-xs-8'>
	              <div class='checkbox icheck'>
	                <label><input type='checkbox' th:name='_spring_security_remember_me' />Remember Me</label>
	              </div>
	            </div>
	          </div>
	          <input type='hidden' th:name='${_csrf.parameterName}' th:value='${_csrf.token}' />
	        </form>
			<hr/>
	        <a href='/forgot' style='margin-bottom:10px;display: block;'>Forgot your password?</a>
	        <a href='/register' class='text-center'>Not a Member? Sign Up</a>
		</div>
		<!-- end- login box content -->
		
      </div>
      <!-- end- login-box -->
      
      <div th:replace='/fragments/footer :: .th-footer'>
	  
	  </div>
    </div>
    
    <script src='http://cdn.jsdelivr.net/webjars/bootstrap/3.3.2/bootstrap.min.js'
        th:src='@{/webjars/bootstrap/3.3.2/bootstrap.min.js}'></script>
    <script src='http://cdn.jsdelivr.net/webjars/jquery/2.1.4/jquery.min.js'
        th:src='@{/webjars/jquery/2.1.4/jquery.min.js}'></script>
    <script src='../static/js/icheck.min.js' th:src='@{/js/icheck.min.js}' type='text/javascript'></script>
	
    <script type='text/javascript' th:inline='javascript'>
    /*<![CDATA[*/
      $(function () {
        $('input.icheck').iCheck({
          checkboxClass: 'icheckbox_square-purple',
          radioClass: 'iradio_square-purple',
          increaseArea: '20%' // optional
        });
      });
      /*]]>*/
    </script>
  </body>
</html>
